"use client";

import React, { useEffect, useState } from "react";
import { useParams } from "next/navigation";
import AHackathonManager from "../../../artifacts/contracts/HackathonManager.sol/AHackathonManager.json";
import CHackathonManager from "../../../artifacts/contracts/HackathonManager.sol/CHackathonManager.json";
import { Acontract_add, Ccontract_add } from "../../../artifacts/config";
import ReferralCard from "../components/card/page";
import FoodTimeline from "../components/foodtimline/page";
import ModalForm from "../components/form/page";
import SponsorCard from "../components/sponsorCard/page";
import VenueTimeline from "../components/venuetimeline/page";
import {
  useWeb3ModalProvider,
  useWeb3ModalAccount,
} from "@web3modal/ethers/react";
import { BrowserProvider, Contract, formatUnits, parseEther } from "ethers";
import GoBackbtn from "../../../components/GoBack";
import SponsorHackModal from "../../../components/sponsorHackModal";
import Navbar from "@/components/navbar";
import { SiSecurityscorecard } from "react-icons/si";
import { FaBuildingColumns } from "react-icons/fa6";
import { TbBuildingCircus } from "react-icons/tb";
import { HiOfficeBuilding } from "react-icons/hi";
import { chainIdToContractMap } from "@/context/allchains";

export default function Details() {
  const { id } = useParams();
  console.log(id);
  const [activeTab, setActiveTab] = useState("details");
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [hackDetails, setHackDetails] = useState({
    name: "EthMumbai",
    description:
      "EthMumbai is a 36-hour hackathon that will test your endurance and creativity . Come showcase your skills and win exciting prizes.",
    city: "Mumbai, India",
    category: "Blockchain",
    experience: "Ninja",
    organizedBy: "ETHGlobal",
    date: "12th August 2021",
    hackers: 2200,
  } as any);

  const handleTabClick = (tabId: any) => {
    setActiveTab(tabId);
  };
  const { address, chainId, isConnected } = useWeb3ModalAccount();
  const { walletProvider } = useWeb3ModalProvider();
  const [xHackToken, setXHackToken] = useState(0);
  const [showTooltip, setShowTooltip] = useState(false);
  //@ts-ignore
  const contractDetails = chainIdToContractMap[chainId];
  console.log(contractDetails)
  useEffect(() => {
    const getHackDetails = async () => {
      if (!walletProvider) {
        console.log("Wallet provider is not available.");
        return;
      }
      const ethersProvider = new BrowserProvider(walletProvider);
      const signer = await ethersProvider.getSigner();
      const resp = new Contract(contractDetails?.address,
        contractDetails?.abi, signer);
      const tx = await resp.getHackathonDetails(id);
      console.log(tx);
      setHackDetails({
        name: tx[0],
        organizedBy: tx[1],
        description: tx[2],
        date: tx[3],
        city: tx[4],
        experience: tx[5],
        category: tx[6],
        hackers: Number(tx[7]),
      });
      const balance = await resp.balanceOf(address);
      console.log(formatUnits(balance, 18));
      setXHackToken(parseFloat(formatUnits(balance, 18)));

    };

    getHackDetails();
  }, [chainId, address]);

  const handleAddStake = async () => {
    if (!walletProvider) {
      console.log("Wallet provider is not available.");
      return;
    }
    const ethersProvider = new BrowserProvider(walletProvider);
    const signer = await ethersProvider.getSigner();
    const resp = new Contract(contractDetails?.address,
      contractDetails?.abi, signer);
    const tx = await resp.joinHackathon(id, { value: parseEther("0.002") });
    await tx.wait();

  };

  const [sponsors, setSponsors] = useState([]);
  useEffect(() => {
    const fetchSponsors = async () => {
      if (!walletProvider) {
        console.log("Wallet provider is not available.");
        return;
      }
      const ethersProvider = new BrowserProvider(walletProvider);
      const signer = await ethersProvider.getSigner();
      const resp = new Contract(
        contractDetails?.address,
        contractDetails?.abi,
        ethersProvider
      );
      const tx = await resp.getHackathonSponsors(id);
      console.log(tx);
      setSponsors(tx);

    };
    fetchSponsors();
  }, [chainId, address]);

  return (
    <>
      <Navbar balance={xHackToken.toString()} />
      <div className="flex dm-mono-regular">
        <div className="flex flex-col gap-5 w-[30%] ml-10 xl:ml-20">
          <GoBackbtn />
          <div className="flex justify-center items-center bg-[#FF1E1E] rounded-lg bg-opacity-10 border-[#662020] border-[0.1px] p-4 w-full">
            <div className="flex items-center gap-2 text-md">
              Registration Ends in{" "}
              <p className="bg-[#19191D] text-[#FF1E1E] px-4 py-2 rounded-md">
                03{" "}
              </p>{" "}
              days
            </div>
          </div>
          <div className="mt-5">
            <svg
              width="252"
              height="24"
              viewBox="0 0 252 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect width="57" height="24" rx="4" fill="#45464D" />
              <path
                d="M9.59967 17L8.10167 7.2H9.29167L10.2857 14.76L11.6717 7.2H12.8757L14.2617 14.76L15.2557 7.2H16.4457L14.9477 17H13.6037L12.2737 9.468L10.9437 17H9.59967ZM20.4582 17.168C19.8049 17.168 19.2262 17.0187 18.7222 16.72C18.2275 16.412 17.8355 15.9873 17.5462 15.446C17.2569 14.8953 17.1122 14.256 17.1122 13.528C17.1122 12.8 17.2522 12.1653 17.5322 11.624C17.8215 11.0733 18.2182 10.6487 18.7222 10.35C19.2262 10.042 19.8142 9.888 20.4862 9.888C21.1582 9.888 21.7322 10.042 22.2082 10.35C22.6842 10.6487 23.0482 11.0453 23.3002 11.54C23.5522 12.0347 23.6782 12.5667 23.6782 13.136C23.6782 13.2387 23.6735 13.3413 23.6642 13.444C23.6642 13.5467 23.6642 13.6633 23.6642 13.794H18.2742C18.3022 14.3073 18.4189 14.7367 18.6242 15.082C18.8389 15.418 19.1049 15.67 19.4222 15.838C19.7489 16.006 20.0942 16.09 20.4582 16.09C20.9715 16.09 21.3729 15.9827 21.6622 15.768C21.9515 15.5533 22.1709 15.2547 22.3202 14.872H23.4822C23.3235 15.516 22.9922 16.062 22.4882 16.51C21.9842 16.9487 21.3075 17.168 20.4582 17.168ZM20.4582 10.938C19.9169 10.938 19.4409 11.1013 19.0302 11.428C18.6289 11.7547 18.3815 12.212 18.2882 12.8H22.5162C22.4789 12.2213 22.2689 11.7687 21.8862 11.442C21.5129 11.106 21.0369 10.938 20.4582 10.938ZM28.7407 17.168C28.2087 17.168 27.7561 17.0607 27.3827 16.846C27.0187 16.622 26.7481 16.3187 26.5707 15.936H26.4867L26.3607 17H25.3947V6.92H26.5707V11.05C26.7481 10.742 27.0234 10.4713 27.3967 10.238C27.7794 10.0047 28.2274 9.888 28.7407 9.888C29.3381 9.888 29.8654 10.028 30.3227 10.308C30.7801 10.588 31.1394 10.9987 31.4007 11.54C31.6621 12.0813 31.7927 12.7393 31.7927 13.514C31.7927 14.298 31.6621 14.9653 31.4007 15.516C31.1394 16.0573 30.7754 16.468 30.3087 16.748C29.8514 17.028 29.3287 17.168 28.7407 17.168ZM28.5867 16.048C29.1747 16.048 29.6554 15.8427 30.0287 15.432C30.4114 15.012 30.6027 14.3773 30.6027 13.528C30.6027 12.6787 30.4114 12.0487 30.0287 11.638C29.6554 11.218 29.1747 11.008 28.5867 11.008C27.9987 11.008 27.5134 11.218 27.1307 11.638C26.7481 12.0487 26.5567 12.6787 26.5567 13.528C26.5567 14.3773 26.7481 15.012 27.1307 15.432C27.5134 15.8427 27.9987 16.048 28.5867 16.048ZM44.8578 17.168C44.2138 17.168 43.6351 17.0513 43.1218 16.818C42.6178 16.5753 42.2118 16.2253 41.9038 15.768C41.5958 15.3107 41.4278 14.7507 41.3998 14.088H42.6038C42.6225 14.648 42.8278 15.124 43.2198 15.516C43.6118 15.8987 44.1578 16.09 44.8578 16.09C45.5391 16.09 46.0665 15.9173 46.4398 15.572C46.8131 15.2173 46.9998 14.7367 46.9998 14.13C46.9998 13.71 46.8925 13.3647 46.6778 13.094C46.4631 12.814 46.1738 12.6087 45.8098 12.478C45.4551 12.338 45.0585 12.268 44.6198 12.268H43.7658V11.204H44.5078C45.1425 11.204 45.6465 11.0687 46.0198 10.798C46.4025 10.5273 46.5938 10.1307 46.5938 9.608C46.5938 9.16933 46.4398 8.81 46.1318 8.53C45.8331 8.25 45.4038 8.11 44.8438 8.11C44.3025 8.11 43.8638 8.264 43.5278 8.572C43.1918 8.87067 43.0005 9.26267 42.9538 9.748H41.7778C41.7965 9.216 41.9365 8.74933 42.1978 8.348C42.4591 7.93733 42.8138 7.61533 43.2618 7.382C43.7191 7.14867 44.2465 7.032 44.8438 7.032C45.4878 7.032 46.0245 7.144 46.4538 7.368C46.8925 7.592 47.2238 7.89533 47.4478 8.278C47.6718 8.65133 47.7838 9.06667 47.7838 9.524C47.7838 10.0093 47.6345 10.4387 47.3358 10.812C47.0371 11.176 46.6825 11.4327 46.2718 11.582V11.666C46.8225 11.834 47.2798 12.1187 47.6438 12.52C48.0078 12.9213 48.1898 13.458 48.1898 14.13C48.1898 14.6993 48.0545 15.2127 47.7838 15.67C47.5225 16.1273 47.1398 16.4913 46.6358 16.762C46.1411 17.0327 45.5485 17.168 44.8578 17.168Z"
                fill="white"
              />
              <path
                d="M73 4C73 1.79086 74.7909 0 77 0H248C250.209 0 252 1.79086 252 4V20C252 22.2091 250.209 24 248 24H77C74.7909 24 73 22.2091 73 20V4Z"
                fill="#E9C500"
                fill-opacity="0.26"
              />
              <circle cx="84" cy="12" r="3" fill="#F0CA00" />
              <path
                d="M94.4772 17V7.2H97.4872C98.2432 7.2 98.8639 7.326 99.3492 7.578C99.8439 7.83 100.213 8.17533 100.455 8.614C100.698 9.04333 100.819 9.53333 100.819 10.084C100.819 10.728 100.651 11.2973 100.315 11.792C99.9885 12.2773 99.4845 12.618 98.8032 12.814L100.931 17H99.5312L97.5572 12.982H97.4872H95.6532V17H94.4772ZM95.6532 11.904H97.4452C98.1919 11.904 98.7379 11.736 99.0832 11.4C99.4379 11.0547 99.6152 10.616 99.6152 10.084C99.6152 9.524 99.4425 9.08067 99.0972 8.754C98.7612 8.42733 98.2059 8.264 97.4312 8.264H95.6532V11.904ZM105.714 17.168C105.06 17.168 104.482 17.0187 103.978 16.72C103.483 16.412 103.091 15.9873 102.802 15.446C102.512 14.8953 102.368 14.256 102.368 13.528C102.368 12.8 102.508 12.1653 102.788 11.624C103.077 11.0733 103.474 10.6487 103.978 10.35C104.482 10.042 105.07 9.888 105.742 9.888C106.414 9.888 106.988 10.042 107.464 10.35C107.94 10.6487 108.304 11.0453 108.556 11.54C108.808 12.0347 108.934 12.5667 108.934 13.136C108.934 13.2387 108.929 13.3413 108.92 13.444C108.92 13.5467 108.92 13.6633 108.92 13.794H103.53C103.558 14.3073 103.674 14.7367 103.88 15.082C104.094 15.418 104.36 15.67 104.678 15.838C105.004 16.006 105.35 16.09 105.714 16.09C106.227 16.09 106.628 15.9827 106.918 15.768C107.207 15.5533 107.426 15.2547 107.576 14.872H108.738C108.579 15.516 108.248 16.062 107.744 16.51C107.24 16.9487 106.563 17.168 105.714 17.168ZM105.714 10.938C105.172 10.938 104.696 11.1013 104.286 11.428C103.884 11.7547 103.637 12.212 103.544 12.8H107.772C107.734 12.2213 107.524 11.7687 107.142 11.442C106.768 11.106 106.292 10.938 105.714 10.938ZM113.632 14.956C113.147 14.956 112.713 14.8673 112.33 14.69L111.854 15.264C111.752 15.404 111.724 15.544 111.77 15.684C111.826 15.8147 111.962 15.88 112.176 15.88H114.01C114.841 15.88 115.513 16.0433 116.026 16.37C116.54 16.6873 116.796 17.196 116.796 17.896C116.796 18.316 116.689 18.7033 116.474 19.058C116.26 19.4127 115.919 19.6973 115.452 19.912C114.995 20.136 114.393 20.248 113.646 20.248C112.676 20.248 111.896 20.066 111.308 19.702C110.72 19.338 110.426 18.7827 110.426 18.036C110.426 17.7653 110.492 17.5133 110.622 17.28C110.762 17.056 110.935 16.8553 111.14 16.678C110.87 16.51 110.702 16.258 110.636 15.922C110.58 15.586 110.683 15.2547 110.944 14.928L111.574 14.144C111.126 13.6773 110.902 13.1033 110.902 12.422C110.902 11.974 111.01 11.5587 111.224 11.176C111.439 10.784 111.747 10.4713 112.148 10.238C112.559 10.0047 113.054 9.888 113.632 9.888C114.006 9.888 114.351 9.944 114.668 10.056H117.272V10.938L115.97 10.98V11.078C116.213 11.4793 116.334 11.9273 116.334 12.422C116.334 12.87 116.227 13.29 116.012 13.682C115.807 14.0647 115.499 14.3727 115.088 14.606C114.687 14.8393 114.202 14.956 113.632 14.956ZM113.632 13.948C114.09 13.948 114.463 13.8127 114.752 13.542C115.051 13.2713 115.2 12.898 115.2 12.422C115.2 11.946 115.051 11.5773 114.752 11.316C114.463 11.0453 114.09 10.91 113.632 10.91C113.166 10.91 112.783 11.0453 112.484 11.316C112.186 11.5773 112.036 11.946 112.036 12.422C112.036 12.898 112.186 13.2713 112.484 13.542C112.783 13.8127 113.166 13.948 113.632 13.948ZM111.588 17.994C111.588 18.4047 111.78 18.7127 112.162 18.918C112.545 19.1233 113.04 19.226 113.646 19.226C114.234 19.226 114.71 19.1093 115.074 18.876C115.448 18.6427 115.634 18.33 115.634 17.938C115.634 17.63 115.504 17.3687 115.242 17.154C114.981 16.9487 114.5 16.846 113.8 16.846H112.218C111.798 17.154 111.588 17.5367 111.588 17.994ZM121.789 8.824C121.509 8.824 121.275 8.73067 121.089 8.544C120.902 8.35733 120.809 8.13333 120.809 7.872C120.809 7.60133 120.902 7.37733 121.089 7.2C121.275 7.01333 121.509 6.92 121.789 6.92C122.059 6.92 122.288 7.01333 122.475 7.2C122.671 7.37733 122.769 7.60133 122.769 7.872C122.769 8.13333 122.671 8.35733 122.475 8.544C122.288 8.73067 122.059 8.824 121.789 8.824ZM119.073 17V15.992H121.285V11.414C121.285 11.1807 121.168 11.064 120.935 11.064H119.311V10.056H121.215C122.045 10.056 122.461 10.4713 122.461 11.302V15.992H124.673V17H119.073ZM130.057 17.168C129.171 17.168 128.452 16.9627 127.901 16.552C127.36 16.132 127.057 15.558 126.991 14.83H128.209C128.265 15.2127 128.452 15.5253 128.769 15.768C129.096 16.0107 129.535 16.132 130.085 16.132C130.608 16.132 130.995 16.02 131.247 15.796C131.509 15.572 131.639 15.3153 131.639 15.026C131.639 14.634 131.485 14.368 131.177 14.228C130.869 14.0787 130.407 13.9667 129.791 13.892C129.054 13.808 128.443 13.6073 127.957 13.29C127.472 12.9727 127.229 12.4967 127.229 11.862C127.229 11.2927 127.467 10.8213 127.943 10.448C128.419 10.0747 129.068 9.888 129.889 9.888C130.701 9.888 131.341 10.0747 131.807 10.448C132.274 10.812 132.54 11.3347 132.605 12.016H131.443C131.415 11.68 131.252 11.414 130.953 11.218C130.664 11.0127 130.3 10.91 129.861 10.91C129.404 10.91 129.049 10.9987 128.797 11.176C128.545 11.344 128.419 11.568 128.419 11.848C128.419 12.128 128.559 12.3613 128.839 12.548C129.129 12.7253 129.581 12.842 130.197 12.898C130.683 12.954 131.126 13.0473 131.527 13.178C131.929 13.3087 132.246 13.514 132.479 13.794C132.722 14.074 132.843 14.466 132.843 14.97C132.853 15.39 132.736 15.768 132.493 16.104C132.26 16.4307 131.933 16.692 131.513 16.888C131.093 17.0747 130.608 17.168 130.057 17.168ZM138.83 17C138.195 17 137.696 16.846 137.332 16.538C136.968 16.23 136.786 15.6747 136.786 14.872V11.064H135.022V10.056H136.072C136.548 10.056 136.823 9.82267 136.898 9.356L137.094 8.278H137.962V10.056H140.734V11.064H137.962V14.872C137.962 15.264 138.051 15.5393 138.228 15.698C138.415 15.8567 138.732 15.936 139.18 15.936H140.734V17H138.83ZM143.192 17V15.992H144.97V11.414C144.97 11.1807 144.858 11.064 144.634 11.064H143.374V10.056H145.068C145.376 10.056 145.624 10.14 145.81 10.308C145.997 10.476 146.09 10.7233 146.09 11.05V11.344H146.146C146.258 10.8773 146.468 10.518 146.776 10.266C147.094 10.014 147.532 9.888 148.092 9.888H149.366V11.134H147.924C147.355 11.134 146.916 11.3253 146.608 11.708C146.3 12.0813 146.146 12.562 146.146 13.15V15.992H148.33V17H143.192ZM153.743 17.168C153.192 17.168 152.735 17.07 152.371 16.874C152.007 16.678 151.736 16.4213 151.559 16.104C151.382 15.7773 151.293 15.4227 151.293 15.04C151.293 14.3307 151.55 13.794 152.063 13.43C152.586 13.0567 153.281 12.87 154.149 12.87H156.053V12.73C156.053 11.5167 155.498 10.91 154.387 10.91C153.939 10.91 153.561 11.008 153.253 11.204C152.954 11.4 152.763 11.708 152.679 12.128H151.475C151.522 11.6613 151.676 11.26 151.937 10.924C152.208 10.588 152.553 10.3313 152.973 10.154C153.393 9.97667 153.864 9.888 154.387 9.888C155.376 9.888 156.095 10.1493 156.543 10.672C157 11.1853 157.229 11.8713 157.229 12.73V17H156.221L156.123 15.922H156.025C155.82 16.258 155.544 16.552 155.199 16.804C154.863 17.0467 154.378 17.168 153.743 17.168ZM153.953 16.132C154.401 16.132 154.779 16.0247 155.087 15.81C155.404 15.5953 155.642 15.3107 155.801 14.956C155.969 14.6013 156.053 14.214 156.053 13.794H154.247C153.612 13.794 153.164 13.9013 152.903 14.116C152.651 14.3307 152.525 14.6153 152.525 14.97C152.525 15.334 152.646 15.6187 152.889 15.824C153.132 16.0293 153.486 16.132 153.953 16.132ZM163.173 17C162.539 17 162.039 16.846 161.675 16.538C161.311 16.23 161.129 15.6747 161.129 14.872V11.064H159.365V10.056H160.415C160.891 10.056 161.167 9.82267 161.241 9.356L161.437 8.278H162.305V10.056H165.077V11.064H162.305V14.872C162.305 15.264 162.394 15.5393 162.571 15.698C162.758 15.8567 163.075 15.936 163.523 15.936H165.077V17H163.173ZM170.476 8.824C170.196 8.824 169.963 8.73067 169.776 8.544C169.589 8.35733 169.496 8.13333 169.496 7.872C169.496 7.60133 169.589 7.37733 169.776 7.2C169.963 7.01333 170.196 6.92 170.476 6.92C170.747 6.92 170.975 7.01333 171.162 7.2C171.358 7.37733 171.456 7.60133 171.456 7.872C171.456 8.13333 171.358 8.35733 171.162 8.544C170.975 8.73067 170.747 8.824 170.476 8.824ZM167.76 17V15.992H169.972V11.414C169.972 11.1807 169.855 11.064 169.622 11.064H167.998V10.056H169.902C170.733 10.056 171.148 10.4713 171.148 11.302V15.992H173.36V17H167.76ZM178.675 17.168C178.021 17.168 177.443 17.0187 176.939 16.72C176.435 16.4213 176.038 16.0013 175.749 15.46C175.459 14.9093 175.315 14.2653 175.315 13.528C175.315 12.7907 175.459 12.1513 175.749 11.61C176.038 11.0593 176.435 10.6347 176.939 10.336C177.443 10.0373 178.021 9.888 178.675 9.888C179.328 9.888 179.907 10.0373 180.411 10.336C180.915 10.6347 181.311 11.0593 181.601 11.61C181.89 12.1513 182.035 12.7907 182.035 13.528C182.035 14.2653 181.89 14.9093 181.601 15.46C181.311 16.0013 180.915 16.4213 180.411 16.72C179.907 17.0187 179.328 17.168 178.675 17.168ZM178.675 16.048C179.076 16.048 179.44 15.9593 179.767 15.782C180.093 15.6047 180.35 15.3293 180.537 14.956C180.733 14.5827 180.831 14.1067 180.831 13.528C180.831 12.9493 180.733 12.4733 180.537 12.1C180.35 11.7267 180.093 11.4513 179.767 11.274C179.44 11.0967 179.076 11.008 178.675 11.008C178.283 11.008 177.923 11.0967 177.597 11.274C177.27 11.4513 177.009 11.7267 176.813 12.1C176.617 12.4733 176.519 12.9493 176.519 13.528C176.519 14.396 176.729 15.0353 177.149 15.446C177.569 15.8473 178.077 16.048 178.675 16.048ZM183.821 17V10.056H184.801L184.927 11.106H184.997C185.184 10.77 185.478 10.4853 185.879 10.252C186.28 10.0093 186.742 9.888 187.265 9.888C188.114 9.888 188.749 10.14 189.169 10.644C189.598 11.148 189.813 11.876 189.813 12.828V17H188.637V12.968C188.637 12.352 188.502 11.8713 188.231 11.526C187.96 11.1713 187.54 10.994 186.971 10.994C186.42 10.994 185.954 11.1853 185.571 11.568C185.188 11.9413 184.997 12.4827 184.997 13.192V17H183.821ZM199.854 17V7.2H203.116C203.863 7.2 204.474 7.33533 204.95 7.606C205.426 7.87667 205.776 8.236 206 8.684C206.224 9.132 206.336 9.62667 206.336 10.168C206.336 10.7093 206.224 11.204 206 11.652C205.776 12.1 205.426 12.4593 204.95 12.73C204.474 13.0007 203.863 13.136 203.116 13.136H201.03V17H199.854ZM201.03 12.058H203.088C203.779 12.058 204.292 11.8853 204.628 11.54C204.964 11.1853 205.132 10.728 205.132 10.168C205.132 9.608 204.964 9.15067 204.628 8.796C204.292 8.44133 203.779 8.264 203.088 8.264H201.03V12.058ZM208.095 17V6.92H209.271V11.106C209.457 10.7513 209.765 10.462 210.195 10.238C210.624 10.0047 211.095 9.888 211.609 9.888C212.458 9.888 213.102 10.1447 213.541 10.658C213.989 11.1713 214.213 11.89 214.213 12.814V17H213.037V12.968C213.037 12.3427 212.883 11.8573 212.575 11.512C212.276 11.1667 211.856 10.994 211.315 10.994C210.941 10.994 210.601 11.078 210.293 11.246C209.985 11.414 209.737 11.6613 209.551 11.988C209.364 12.3147 209.271 12.716 209.271 13.192V17H208.095ZM218.659 17.168C218.109 17.168 217.651 17.07 217.287 16.874C216.923 16.678 216.653 16.4213 216.475 16.104C216.298 15.7773 216.209 15.4227 216.209 15.04C216.209 14.3307 216.466 13.794 216.979 13.43C217.502 13.0567 218.197 12.87 219.065 12.87H220.969V12.73C220.969 11.5167 220.414 10.91 219.303 10.91C218.855 10.91 218.477 11.008 218.169 11.204C217.871 11.4 217.679 11.708 217.595 12.128H216.391C216.438 11.6613 216.592 11.26 216.853 10.924C217.124 10.588 217.469 10.3313 217.889 10.154C218.309 9.97667 218.781 9.888 219.303 9.888C220.293 9.888 221.011 10.1493 221.459 10.672C221.917 11.1853 222.145 11.8713 222.145 12.73V17H221.137L221.039 15.922H220.941C220.736 16.258 220.461 16.552 220.115 16.804C219.779 17.0467 219.294 17.168 218.659 17.168ZM218.869 16.132C219.317 16.132 219.695 16.0247 220.003 15.81C220.321 15.5953 220.559 15.3107 220.717 14.956C220.885 14.6013 220.969 14.214 220.969 13.794H219.163C218.529 13.794 218.081 13.9013 217.819 14.116C217.567 14.3307 217.441 14.6153 217.441 14.97C217.441 15.334 217.563 15.6187 217.805 15.824C218.048 16.0293 218.403 16.132 218.869 16.132ZM227.432 17.168C226.545 17.168 225.826 16.9627 225.276 16.552C224.734 16.132 224.431 15.558 224.366 14.83H225.584C225.64 15.2127 225.826 15.5253 226.144 15.768C226.47 16.0107 226.909 16.132 227.46 16.132C227.982 16.132 228.37 16.02 228.622 15.796C228.883 15.572 229.014 15.3153 229.014 15.026C229.014 14.634 228.86 14.368 228.552 14.228C228.244 14.0787 227.782 13.9667 227.166 13.892C226.428 13.808 225.817 13.6073 225.332 13.29C224.846 12.9727 224.604 12.4967 224.604 11.862C224.604 11.2927 224.842 10.8213 225.318 10.448C225.794 10.0747 226.442 9.888 227.264 9.888C228.076 9.888 228.715 10.0747 229.182 10.448C229.648 10.812 229.914 11.3347 229.98 12.016H228.818C228.79 11.68 228.626 11.414 228.328 11.218C228.038 11.0127 227.674 10.91 227.236 10.91C226.778 10.91 226.424 10.9987 226.172 11.176C225.92 11.344 225.794 11.568 225.794 11.848C225.794 12.128 225.934 12.3613 226.214 12.548C226.503 12.7253 226.956 12.842 227.572 12.898C228.057 12.954 228.5 13.0473 228.902 13.178C229.303 13.3087 229.62 13.514 229.854 13.794C230.096 14.074 230.218 14.466 230.218 14.97C230.227 15.39 230.11 15.768 229.868 16.104C229.634 16.4307 229.308 16.692 228.888 16.888C228.468 17.0747 227.982 17.168 227.432 17.168ZM235.546 17.168C234.893 17.168 234.314 17.0187 233.81 16.72C233.316 16.412 232.924 15.9873 232.634 15.446C232.345 14.8953 232.2 14.256 232.2 13.528C232.2 12.8 232.34 12.1653 232.62 11.624C232.91 11.0733 233.306 10.6487 233.81 10.35C234.314 10.042 234.902 9.888 235.574 9.888C236.246 9.888 236.82 10.042 237.296 10.35C237.772 10.6487 238.136 11.0453 238.388 11.54C238.64 12.0347 238.766 12.5667 238.766 13.136C238.766 13.2387 238.762 13.3413 238.752 13.444C238.752 13.5467 238.752 13.6633 238.752 13.794H233.362C233.39 14.3073 233.507 14.7367 233.712 15.082C233.927 15.418 234.193 15.67 234.51 15.838C234.837 16.006 235.182 16.09 235.546 16.09C236.06 16.09 236.461 15.9827 236.75 15.768C237.04 15.5533 237.259 15.2547 237.408 14.872H238.57C238.412 15.516 238.08 16.062 237.576 16.51C237.072 16.9487 236.396 17.168 235.546 17.168ZM235.546 10.938C235.005 10.938 234.529 11.1013 234.118 11.428C233.717 11.7547 233.47 12.212 233.376 12.8H237.604C237.567 12.2213 237.357 11.7687 236.974 11.442C236.601 11.106 236.125 10.938 235.546 10.938Z"
                fill="#F0CA00"
              />
            </svg>
          </div>
          <div className="flex flex-col gap-2 mb-5 h-max rounded-xl">
            <div className="flex flex-col md:flex-row my-2">
              {/* <h3 className="text-lg font-semibold md:ml-2">Name:</h3> */}

              <p className="text-4xl font-bold md:ml-2 mt-1">
                {hackDetails.name.toUpperCase()}
              </p>
            </div>
            <div className="flex flex-col md:flex-row my-2">
              {/* <h3 className="text-lg font-semibold md:ml-2">Description:</h3> */}

              <p className="text-md md:ml-2 mt-1">{hackDetails.description}</p>
            </div>
            <div className="flex gap-4">
              <div className="flex flex-col gap-2 items-center rounded-lg bg-[#4C76FD] bg-opacity-15 p-2 px-4 md:flex-row mx-2 my-2">
                <h3 className="text-md">Hackers:</h3>

                <p className="text-md">{hackDetails.hackers}</p>
              </div>
              <div className="flex flex-col gap-2 items-center rounded-lg bg-[#4C76FD] bg-opacity-15 p-2 px-4 md:flex-row mx-2 my-2">
                <h3 className="text-md ">City:</h3>

                <p className="text-md">{hackDetails.city}</p>
              </div>
            </div>
            <div className="flex flex-col gap-2 items-center w-max rounded-lg bg-[#4C76FD] bg-opacity-15 p-2 px-4 md:flex-row mx-2 my-2">
              <h3 className="text-md font-semibold md:ml-2">Category:</h3>

              <p className="text-md">{hackDetails.category}</p>
            </div>
            {/* <div className="flex flex-col md:flex-row my-2">
                            <h3 className="text-lg font-semibold md:ml-2">Min level:</h3>

                            <p className="text-sm md:ml-2 mt-1">{hackDetails.category}</p>
                        </div> */}
            <button
              onClick={handleAddStake}
              className="block w-full px-5 py-2 mt-5 bg-white text-black hover:text-white rounded-lg shadow hover:bg-[#4C76FD]"
            >
              <h5 className=" text-md tracking-tight">REGISTER</h5>
            </button>
          </div>
          <ReferralCard />
        </div>
        <div className="bg-[#282828] mt-20 w-[60%] mx-10 xl:mx-20 rounded-lg">
          <div className="m-4 border-b w-max border-gray-100 dark:border-gray-600">
            <ul
              className="flex flex-wrap -mb-px text-sm font-medium text-center"
              id="default-tab"
              role="tablist"
            >
              <li className="me-2" role="presentation">
                <button
                  className={`inline-block p-4 rounded-t-lg ${activeTab === "details"
                    ? "border-b-white border-b-4  text-white"
                    : "hover:bg-[#3a3a3a]"
                    }`}
                  id="profile-tab"
                  onClick={() => handleTabClick("details")}
                  role="tab"
                  aria-controls="details"
                  aria-selected={activeTab === "details"}
                >
                  Hackathon Details
                </button>
              </li>
              <li className="me-2" role="presentation">
                <button
                  className={`inline-block p-4  rounded-t-lg  ${activeTab === "sponsors"
                    ? " border-b-white border-b-4  text-white"
                    : "hover:bg-[#3a3a3a]"
                    }`}
                  id="settings-tab"
                  onClick={() => handleTabClick("sponsors")}
                  role="tab"
                  aria-controls="settings"
                  aria-selected={activeTab === "sponsors"}
                >
                  Sponsors
                </button>
              </li>
            </ul>
          </div>
          <div className="m-5" id="default-tab-content">
            <div
              className={`p-4 rounded-lg  ${activeTab === "details" ? "text-blue-500" : "hidden"
                }`}
              id="dashboard"
              role="tabpanel"
              aria-labelledby="dashboard-tab"
            >
              <div className="w-full bg-gray-200 rounded-full h-2.5 mb-2 dark:bg-black">
                <div
                  onMouseEnter={() => setShowTooltip(true)}
                  onMouseLeave={() => setShowTooltip(false)}
                  className="relative cursor-pointer bg-white h-2.5 rounded-full "
                  style={{ width: " 45%" }}
                >
                  {showTooltip && (
                    <div
                      className="absolute z-10 -mt-12 px-3 py-2 text-sm font-medium text-black bg-white rounded-lg shadow-sm tooltip"
                      style={{ left: "100%", transform: "translateX(-50%)" }} // Center the tooltip horizontally
                    >
                      {hackDetails && hackDetails.hackers}
                      <div className="tooltip-arrow"></div>
                    </div>
                  )}
                </div>
              </div>
              <div className="flex mb-5 justify-between w-full px-5">
                <div className="flex justify-around gap-80 pl-20 w-[50%]">
                  <div className="bg-white text-black py-2 px-2 rounded-md">
                    {" "}
                    <FaBuildingColumns className={"text-[#FBC741] h-10 w-10"} />
                  </div>
                  <div className="bg-white text-black py-2 px-2 rounded-md">
                    <HiOfficeBuilding className={"text-[#FBC741] h-10 w-10"} />
                  </div>
                </div>
                <div className="bg-white text-black py-2 px-2 rounded-md">
                  <TbBuildingCircus className={"text-[#FBC741] h-10 w-10"} />
                </div>
              </div>
              <div className="flex flex-col gap-5 gap-x-7 text-sm text-gray-500 dark:text-gray-400">
                <VenueTimeline hackers={hackDetails.hackers} />
                <FoodTimeline hackers={hackDetails.hackers} />
              </div>
            </div>
            <div
              className={`relative p-4 rounded-lg ${activeTab === "sponsors" ? "" : "hidden"
                }`}
              id="settings"
              role="tabpanel"
              aria-labelledby="settings-tab"
            >
              <div className="absolute right-6 -top-20 mt-2">
                <button
                  onClick={() => setIsModalOpen(true)}
                  className="bg-white rounded-sm px-4 py-2 text-black"
                >
                  Sponsor Hackathon
                </button>
              </div>
              <div className="flex gap-5 w-full justify-between">
                <div className="flex flex-col gap-5 w-full bg-[#1E1E1E] rounded-md py-5 px-5">
                  <div className="text-sm dm-mono-regular">
                    Total Sponsors :{" "}
                  </div>
                  <p className="flex justify-end gap-4 items-center font-thunder text-5xl">
                    <svg
                      width="46"
                      height="46"
                      viewBox="0 0 36 36"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M22.05 4.50001C22.9981 4.4999 23.9295 4.7494 24.7506 5.22342C25.5717 5.69745 26.2535 6.3793 26.7274 7.2004C27.2014 8.02151 27.4508 8.95293 27.4507 9.90102C27.4505 10.8491 27.2007 11.7804 26.7264 12.6014L32.85 12.6V15.3H30.15V28.8C30.15 29.158 30.0078 29.5014 29.7546 29.7546C29.5014 30.0078 29.1581 30.15 28.8 30.15H7.20002C6.84198 30.15 6.4986 30.0078 6.24543 29.7546C5.99226 29.5014 5.85002 29.158 5.85002 28.8V15.3H3.15002V12.6L9.27362 12.6014C8.60384 11.4416 8.38895 10.0742 8.67069 8.76489C8.95243 7.45555 9.71068 6.29762 10.7982 5.51595C11.8858 4.73428 13.225 4.38465 14.5558 4.53494C15.8867 4.68524 17.1142 5.32473 18 6.32926C18.5057 5.75332 19.1287 5.29215 19.8272 4.97666C20.5257 4.66117 21.2836 4.49866 22.05 4.50001ZM19.35 15.3H16.65V28.8H19.35V15.3ZM13.95 7.20001C13.2494 7.19687 12.575 7.46621 12.0693 7.95112C11.5635 8.43603 11.2661 9.09854 11.2398 9.79868C11.2136 10.4988 11.4605 11.1818 11.9284 11.7032C12.3963 12.2247 13.0486 12.5438 13.7475 12.5933L13.95 12.6H16.65V9.90001C16.6501 9.25479 16.419 8.63089 15.9988 8.14131C15.5785 7.65172 14.9968 7.32881 14.3591 7.23106L14.1512 7.20676L13.95 7.20001ZM22.05 7.20001C21.3688 7.19979 20.7128 7.45706 20.2133 7.92023C19.7138 8.3834 19.4079 9.01825 19.3568 9.69751L19.35 9.90001V12.6H22.05C22.7312 12.6002 23.3873 12.343 23.8868 11.8798C24.3862 11.4166 24.6922 10.7818 24.7433 10.1025L24.75 9.90001C24.75 9.18392 24.4656 8.49717 23.9592 7.99082C23.4529 7.48447 22.7661 7.20001 22.05 7.20001Z"
                        fill="#AC38F4"
                      />
                    </svg>

                    {sponsors.length}
                  </p>
                </div>
                <div className="flex flex-col gap-5 w-full bg-[#1E1E1E] rounded-md py-5 px-5">
                  <div className="text-sm dm-mono-regular">
                    Total Amount Offered :{" "}
                  </div>
                  <p className="flex justify-end gap-4 items-center font-thunder text-5xl">
                    <svg
                      width="41"
                      height="47"
                      viewBox="0 0 31 27"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M11.3955 13.325H14.325C15.9362 13.325 17.4814 13.965 18.6207 15.1043C19.76 16.2436 20.4 17.7888 20.4 19.4H10.9487L10.95 20.75H21.75V19.4C21.7458 17.9636 21.3307 16.5583 20.5539 15.35H24.45C25.7261 15.3497 26.9762 15.711 28.0552 16.3923C29.1343 17.0735 29.9982 18.0466 30.5466 19.1989C27.3539 23.4122 22.1847 26.15 16.35 26.15C12.6227 26.15 9.46502 25.3535 6.90002 23.9563V11.3959C8.54245 11.6311 10.0934 12.2967 11.3955 13.325ZM5.55002 23.45C5.55002 23.808 5.40779 24.1514 5.15462 24.4046C4.90144 24.6578 4.55807 24.8 4.20002 24.8H1.50002C1.14198 24.8 0.798604 24.6578 0.54543 24.4046C0.292256 24.1514 0.150024 23.808 0.150024 23.45V11.3C0.150024 10.942 0.292256 10.5986 0.54543 10.3454C0.798604 10.0922 1.14198 9.95 1.50002 9.95H4.20002C4.55807 9.95 4.90144 10.0922 5.15462 10.3454C5.40779 10.5986 5.55002 10.942 5.55002 11.3V23.45ZM23.1 4.55C24.1742 4.55 25.2043 4.9767 25.9638 5.73622C26.7233 6.49574 27.15 7.52587 27.15 8.6C27.15 9.67413 26.7233 10.7043 25.9638 11.4638C25.2043 12.2233 24.1742 12.65 23.1 12.65C22.0259 12.65 20.9958 12.2233 20.2362 11.4638C19.4767 10.7043 19.05 9.67413 19.05 8.6C19.05 7.52587 19.4767 6.49574 20.2362 5.73622C20.9958 4.9767 22.0259 4.55 23.1 4.55ZM13.65 0.5C14.7242 0.5 15.7543 0.926695 16.5138 1.68622C17.2733 2.44574 17.7 3.47587 17.7 4.55C17.7 5.62413 17.2733 6.65426 16.5138 7.41378C15.7543 8.17331 14.7242 8.6 13.65 8.6C12.5759 8.6 11.5458 8.17331 10.7862 7.41378C10.0267 6.65426 9.60002 5.62413 9.60002 4.55C9.60002 3.47587 10.0267 2.44574 10.7862 1.68622C11.5458 0.926695 12.5759 0.5 13.65 0.5Z"
                        fill="#FF9314"
                      />
                    </svg>
                    2.13 ETH{" "}
                  </p>
                </div>
                <div className="flex flex-col gap-5 w-full bg-[#1E1E1E] rounded-md py-5 px-5">
                  <div className="text-sm dm-mono-regular">
                    Total Received :{" "}
                  </div>
                  <p className="flex justify-end gap-4 items-center font-thunder text-5xl">
                    <svg
                      width="46"
                      height="46"
                      viewBox="0 0 36 36"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M18 31.5C10.544 31.5 4.5 25.4561 4.5 18C4.5 10.544 10.544 4.5 18 4.5C25.4561 4.5 31.5 10.544 31.5 18C31.5 25.4561 25.4561 31.5 18 31.5ZM13.275 20.7V23.4H16.65V26.1H19.35V23.4H20.7C21.5951 23.4 22.4536 23.0444 23.0865 22.4115C23.7194 21.7786 24.075 20.9201 24.075 20.025C24.075 19.1299 23.7194 18.2715 23.0865 17.6385C22.4536 17.0056 21.5951 16.65 20.7 16.65H15.3C15.121 16.65 14.9493 16.5789 14.8227 16.4523C14.6961 16.3257 14.625 16.154 14.625 15.975C14.625 15.796 14.6961 15.6243 14.8227 15.4977C14.9493 15.3711 15.121 15.3 15.3 15.3H22.725V12.6H19.35V9.9H16.65V12.6H15.3C14.4049 12.6 13.5464 12.9556 12.9135 13.5885C12.2806 14.2214 11.925 15.0799 11.925 15.975C11.925 16.8701 12.2806 17.7285 12.9135 18.3615C13.5464 18.9944 14.4049 19.35 15.3 19.35H20.7C20.879 19.35 21.0507 19.4211 21.1773 19.5477C21.3039 19.6743 21.375 19.846 21.375 20.025C21.375 20.204 21.3039 20.3757 21.1773 20.5023C21.0507 20.6289 20.879 20.7 20.7 20.7H13.275Z"
                        fill="#1ECB59"
                      />
                    </svg>
                    1.9 ETH{" "}
                  </p>
                </div>
              </div>
              <div className="grid grid-cols-2 mt-10 gap-5 w-full">
                {sponsors.map((sponsor, index) => (
                  <SponsorCard key={index} index={index} props={sponsor} />
                ))}
              </div>
            </div>
          </div>
          <SponsorHackModal
            isOpen={isModalOpen}
            onClose={() => setIsModalOpen(false)}
          />
        </div>
      </div>
    </>
  );
}
